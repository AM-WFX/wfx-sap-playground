// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/ComponentContainer","sap/ui/core/EventBus","sap/ushell/appIntegration/ApplicationContainer","sap/ushell/appIntegration/UI5ApplicationContainerRenderer","sap/ushell/Container","sap/ushell/library","sap/ushell/utils"],(t,e,n,o,i,p,r,s)=>{"use strict";const a=o.extend("sap.ushell.appIntegration.UI5ApplicationContainer",{metadata:{library:"sap.ushell",properties:{componentHandle:{type:"object"},ui5ComponentId:{type:"string"},ui5ComponentName:{type:"string"}},aggregations:{child:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}},renderer:i});a.prototype.init=function(){o.prototype.init.apply(this,arguments)};a.prototype.onBeforeRendering=function(){if(!this.getReadyForRendering()){return}this._createComponentContainer()};a.prototype._createComponentContainer=function(){if(this.getAggregation("child")){return}const t=this.getComponentHandle().getInstance();const n=new e({id:this.getUi5ComponentId().replace("-component","-content"),component:t});n.setHeight(this.getHeight());n.setWidth(this.getWidth());n.addStyleClass("sapUShellApplicationContainer");this.setAggregation("child",n);return this._publishAppComponentLoaded(t)};a.prototype.setReadyForRendering=function(t){o.prototype.setReadyForRendering.apply(this,arguments);if(!this.getRenderComplete()){this.rerender()}return this};a.prototype._publishAppComponentLoaded=async function(t){const e=await p.getServiceAsync("PluginManager");await s.promisify(e.getPluginLoadingPromise("RendererExtensions"));await s.awaitTimeout(0);n.getInstance().publish("sap.ushell","appComponentLoaded",{component:t})};a.prototype.stopRouter=function(){const e=this.getComponentHandle()?.getInstance();if(!e||!e.isA("sap.ui.core.UIComponent")){return}const n=e.getRouter();if(!n){return}t.info(`router stopped for instance ${e.getId()}`);n.stop()};a.prototype._destroyChild=function(){const e=this.getAggregation("child");if(!e){return}const n=e.getComponentInstance().getMetadata().getComponentName();t.debug(`unloading component ${n}`,null,"sap.ushell.appIntegration.ApplicationContainer");this.destroyAggregation("child")};a.prototype.exit=function(){this._destroyChild();const t=this.getComponentHandle();if(t){t.destroy()}o.prototype.exit.apply(this,arguments)};return a});
//# sourceMappingURL=UI5ApplicationContainer.js.map