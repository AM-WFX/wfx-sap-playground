// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/Element","sap/ushell/services/Extension/Item","sap/ushell/Container","sap/ushell/utils"],(e,t,n,i,r)=>{"use strict";function o(){}async function a(e){return new Promise(async t=>{const n=i.getRendererInternal(e);if(n){t(n)}else{i.attachRendererCreatedEvent(function n(){i.detachRendererCreatedEvent(n);t(i.getRendererInternal(e))})}})}o.prototype._createItemVisibilityHandler=function(e,t,n){return async function i(o,a,d){const s=d?[d]:undefined;if(o){await r.promisify(t(e,a,s));return}await r.promisify(n(e,a,s))}};o.prototype._createControl=async function(e,t){return r.promisify(e(...t))};o.prototype.createHeaderItem=async function(n,i={}){if(n.id){if(t.getElementById(n.id)){throw new Error("The control id is not allowed for header items! The id will be generated automatically and must not be set by the application.")}e.error("The control id is not allowed for header items! The id will be generated automatically. - For plugins use sap.ushell.services.FrameBoundExtension instead.");delete n.id}const{position:r,helpId:o}=i;const a=["begin","end",undefined];if(!a.includes(r)){throw new Error(`Unexpected Input: '${r}' is not a valid position!`)}if(r==="begin"){return this._createHeaderStartItem(n,o)}return this._createHeaderEndItem(n,o)};o.prototype._createHeaderStartItem=async function(e,t){const i=await a();const r=[e,false,undefined,undefined];const o=i.addHeaderItem.bind(i);const d=i.showHeaderItem.bind(i);const s=i.hideHeaderItem.bind(i);const c=await this._createControl(o,r);const l=this._createItemVisibilityHandler(c.getId(),d,s);if(t){c.data("help-id",t,true)}return new n(c,l)};o.prototype._createHeaderEndItem=async function(e,t){const r=i.getRendererInternal();const o=[e,false,undefined,undefined];const a=r.addHeaderEndItem.bind(r);const d=r.showHeaderEndItem.bind(r);const s=r.hideHeaderEndItem.bind(r);const c=await this._createControl(a,o);const l=this._createItemVisibilityHandler(c.getId(),d,s);if(t){c.data("help-id",t,true)}return new n(c,l)};o.prototype.createUserAction=async function(r,o={}){if(r.id){if(t.getElementById(r.id)){throw new Error("The control id is not allowed for header items! The id will be generated automatically and must not be set by the application.")}e.error("The control id is not allowed for header items! The id will be generated automatically. - For plugins use sap.ushell.services.FrameBoundExtension instead.");delete r.id}const a=i.getRendererInternal();const d=[{controlType:o.controlType||"sap.m.Button",oControlProperties:r,bIsVisible:false,bCurrentState:undefined,aStates:undefined}];const s=a.addUserAction.bind(a);const c=a.showActionButton.bind(a);const l=a.hideActionButton.bind(a);const u=await this._createControl(s,d);const p=this._createItemVisibilityHandler(u.getId(),c,l);if(o.helpId){u.data("help-id",o.helpId,true)}return new n(u,p)};o.prototype.setSecondTitle=async function(e){const t=i.getRendererInternal();t.setHeaderTitle(e)};o.hasNoAdapter=true;return o});
//# sourceMappingURL=Extension.js.map