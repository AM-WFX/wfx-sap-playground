sap.ui.define(["sap/ui/base/Object","sap/base/util/extend"],function(t,e){"use strict";function n(t,e,n,r){var a;r.isInitialised()?s():r.attachInitialized(s);var i=null;var o=new Promise(function(t){i=t});function u(){return o}function s(){r.getChartAsync().then(function(t){a=t;if(i){i()}})}function c(){return r.getAvailableChartTypes()}function g(){return a.getBinding("data")}function l(){return a}function f(){return r.getChartBindingPath()}function d(){return r.getItems()}function p(){var t=[];r.getChartAsync().then(function(n){var r=n;if(r&&r.getMetadata().getName()==="sap.chart.Chart"){var a=false;var i=r.getSelectionBehavior();var o=e.getSelectionPoints(r,i);if(o&&o.count>0){if(i==="DATAPOINT"){a=true}var u=o.dataPoints;var s=[];for(var c=0;c<u.length;c++){if(a){if(u[c].context){t.push(u[c].context)}}else{s.push(u[c].dimensions)}}if(!a){t[0]=s}}}});return t}function h(){return r.getModel()}function v(){return e.setEnabledToolbarButtons(r)}function C(){return e.setEnabledFooterButtons(r)}function y(t){r.attachAfterVariantInitialise(function(){r.setCurrentVariantId(t)});r.setCurrentVariantId(t)}function b(){r.rebindChart()}function I(t){var e=r.getModel().getMetaModel();var n=e.getODataEntitySet(r&&r.getEntitySet());var a=e.getODataEntityType(n.entityType);var i=a.property;return i.some(function(e){return e.name===t.Property})}function m(t){var e=r.getUiState();var n=e.getPresentationVariant();var a=t.filter(function(t){return I(t)});var i=n&&n.SortOrder?a.concat(n.SortOrder):a;n.SortOrder=i;e.setPresentationVariant(n);r.setUiState(e)}function P(){return r.getToolbar()}function S(){return r.getCustomData()}return{getBinding:g,getBindingPath:f,getInnerChart:l,getAvailableChartTypes:c,getItems:d,getSelectedContexts:p,getCurrentContexts:Function.prototype,getVisibleProperties:Function.prototype,getBindingInfo:Function.prototype,getModel:h,setEnabledToolbarButtons:v,setEnabledFooterButtons:C,setCurrentVariantId:y,setCurrentTableVariantId:Function.prototype,setCurrentChartVariantId:y,refresh:Function.prototype,rebind:b,applyNavigationSortOrder:m,getToolbar:P,getCustomData:S,scrollToSelectedItemAsPerChildContext:Function.prototype,getPressedItemParameter:Function.prototype,getInitializationPromise:u}}return t.extend("sap.suite.ui.generic.template.lib.presentationControl.SmartChartHandler",{constructor:function(t,r,a,i){e(this,n(t,r,a,i))}})});
//# sourceMappingURL=SmartChartHandler.js.map